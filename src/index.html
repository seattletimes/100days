<!doctype html>
<html>
  <head>
    <%= t.include("partials/_head.html") %>
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
  </head>
  <body>



      <header class="top-header">
        <h1 class="large">TRUMP'S FIRST
        <div class="largest">100</div>
        <div class="large">DAYS IN OFFICE </div>
        </h1>
      </header>





<responsive-child class="innerbox">
      <section class="introduction">
        <p class="intro">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean eu dolor tristique, porttitor velit ut, egestas leo. Nunc ullamcorper, urna eu bibendum lacinia, leo nulla euismod ante, vitae pharetra mi mi nec tellus. Quisque auctor, ligula ut consectetur faucibus, risus risus mattis nisl, feugiat mollis est nulla nec justo. Mauris enim mauris, egestas eget lacus id, vulputate consectetur tortor. Mauris eget vulputate nibh.</p>
      <section>

      <%
        var byDay = {};
        json.daily.forEach(function(row) {
          if (!byDay[row.day]) {
            byDay[row.day] = [];
          }
          byDay[row.day].push(row);
        });
      %>

      <!-- <% json.daily.forEach(function(day) { %>
        <li> Day <%= day.day %>: <%= day.summary %>
          <% if (day.link) { %>
          <a href="<%= day.url %>""><%= day.link %></a>
          <% } %>
      <% }) %> -->

      <section class="dates-goals">
      <div class="calendar">
        <h3 class="month">January</h3>
        <div class="page">
          <% for(i = 1; i < 12; i++) { %>
            <div class="day">
              <a href="#day-<%= i %>"><%= i %></a>
            </div>
          <% }%>
        </div>
    
        <h3 class="month">February</h3>
        <div class="page">
          <% for(i = 12; i < 40; i++) { %>
            <div class="day"><%= i %></div>
          <% }%>
          </div>

        <h3 class="month">March</h3>
        <div class="page">
          <% for(i = 40; i < 71; i++) { %>
            <div class="day"><%= i %></div>
          <% }%>
        </div>

        <h3 class="month">April</h3>
        <div class="page">
          <% for(i = 71; i < 101; i++) { %>
            <div class="day"><%= i %></div>
          <% }%> 
        </div>
        </div>

        <div class="checklist">
        <h2>100-day action plan</h2>

        <ol>
        <% json.goals.forEach(function(k) { %>
        <div class="plan-item">
        <li>
        <% if (!k.completed) { %>
              <i class="fa fa-square-o" aria-hidden="true"></i>
              <% }
              else { %>
              <i class="fa fa-check-square" aria-hidden="true"></i><% }%>
          <%= k.goal %>
          <% if (k.completed) { %>
          (<a href="#day-<%= k.completed%>">Completed on day <%= k.completed %></a>)
          <% } %>
          </div>
        <% }) %>
        </ol>
        
        <!-- <i class="fa fa-square-o" aria-hidden="true"></i> 
        <i class="fa fa-check-square" aria-hidden="true"></i> -->

        </div>
      </section>


      <section class="actions">
        <h2>Day-by-day actions</h2>
          <!--<ol>
          <% json.daily.forEach(function(k) { %>
          <li id="day-<%= k.day %>">
          <% if (k.summary) { %>
                Day <%= k.day %>
                <ul>
                <li><%= k.summary %></li>
                </ul>
                <% }
                }) %>
          </ol> -->

          <% Object.keys(byDay).sort().forEach(function(d) { 
            var actions = byDay[d]; %>
            <div class="day-no">
              <h3 id="day-<%= d %>">Day <%= d %></h3>
              <ul class="actions-list">
                <% actions.forEach(function(e) { %>
                  <li><%= e.summary %> 
                  <a href="<%= e.url %>">READ MORE</a>
                  </li>
                <% }) %>
                </ul>
                </div>
                <% }) %>
          

         <% console.log(byDay) %>


      </section>

</responsive-child>
      <script>
      window.goals = <%= JSON.stringify(json.goals) %>;
      window.daily = <%= JSON.stringify(json.goals) %>;
    </script>

    <script src="app.js" async></script>
    <% if (json.project.production) { %>
    <%= !json.project.embedded ? t.include("partials/_foot.html") : "" %>
    <%= t.include("partials/_workHere.html") %>
    <% } %>
  </body>
</html>
